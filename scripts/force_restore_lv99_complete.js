const admin = require("firebase-admin");
const fs = require("fs");

async function restoreTotalLv99() {
    process.env.FIRESTORE_EMULATOR_HOST = "127.0.0.1:8081";

    if (admin.apps.length === 0) {
        admin.initializeApp({
            projectId: "cheychip"
        });
    }

    const db = admin.firestore();
    const email = "hikahikarun6206@gmail.com";
    const userRef = db.collection("users").doc(email);

    // Salvaged save_data string from previous commit
    const salvagedDataString = "{\"x\":25,\"lane\":1,\"lv\":99,\"hp\":2090,\"maxHp\":2090,\"exp\":14351570,\"nextExp\":20021550,\"sp\":103,\"skill_sp\":19,\"money\":5400504,\"stats\":{\"str\":310,\"vit\":140,\"agi\":211,\"int\":5,\"dex\":5,\"luk\":16},\"skills\":{\"1\":10,\"2\":10},\"skill_cooldowns\":{\"1\":0,\"2\":0},\"battleStats\":{\"atk\":185,\"matk\":7,\"def_div\":31,\"def_sub\":606,\"mdef_div\":0,\"mdef_sub\":117,\"hit\":21,\"eva\":207,\"cri\":34,\"res\":107},\"attackTimer\":689,\"baseAttackInterval\":60,\"range\":75,\"width\":30,\"height\":30,\"lastLogin\":1770694114612,\"currentDungeonId\":1,\"currentWave\":2,\"killsInWave\":10,\"dungeonProgress\":{\"1\":{\"clearCount\":138,\"killCount\":0,\"cleared\":true},\"2\":{\"clearCount\":22,\"killCount\":0,\"cleared\":true},\"3\":{\"clearCount\":3,\"killCount\":0,\"cleared\":true},\"4\":{\"clearCount\":64,\"killCount\":0,\"cleared\":true},\"5\":{\"clearCount\":33,\"killCount\":0,\"cleared\":true},\"6\":{\"clearCount\":101,\"killCount\":0,\"cleared\":true},\"7\":{\"clearCount\":143,\"killCount\":0,\"cleared\":true},\"8\":{\"clearCount\":159,\"killCount\":0,\"cleared\":true},\"9\":{\"clearCount\":173,\"killCount\":0,\"cleared\":true},\"10\":{\"clearCount\":242,\"killCount\":0,\"cleared\":true},\"11\":{\"clearCount\":48,\"killCount\":0,\"cleared\":true},\"12\":{\"clearCount\":76,\"killCount\":0,\"cleared\":true},\"13\":{\"clearCount\":27,\"killCount\":0,\"cleared\":true},\"14\":{\"clearCount\":45,\"killCount\":0,\"cleared\":true},\"15\":{\"clearCount\":127,\"killCount\":0,\"cleared\":true},\"16\":{\"clearCount\":10,\"killCount\":0,\"cleared\":true},\"17\":{\"clearCount\":12,\"killCount\":0,\"cleared\":true},\"18\":{\"clearCount\":37,\"killCount\":0,\"cleared\":true},\"19\":{\"clearCount\":55,\"killCount\":0,\"cleared\":true},\"20\":{\"clearCount\":24,\"killCount\":0,\"cleared\":true},\"21\":{\"clearCount\":12,\"killCount\":0,\"cleared\":true},\"22\":{\"clearCount\":16,\"killCount\":0,\"cleared\":true},\"23\":{\"clearCount\":12,\"killCount\":0,\"cleared\":true},\"24\":{\"clearCount\":28,\"killCount\":0,\"cleared\":true},\"25\":{\"clearCount\":10,\"killCount\":0,\"cleared\":true}},\"image\":\"player/player1.png\",\"equipment\":{\"head_top\":null,\"head_mid\":{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1}]},\"head_low\":{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},\"neck\":null,\"ear\":null,\"body\":{\"id\":700017,\"exp\":0,\"rarity\":1,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1},{\"id\":42,\"name\":\"DEX Lv2\",\"stat\":\"dex\",\"val\":5,\"level\":2}]},\"arm\":null,\"waist\":null,\"leg\":{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},\"foot\":{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1}]},\"hand_r\":null,\"hand_l\":null,\"sub1\":null,\"sub2\":null},\"inventory\":[{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1}]},{\"id\":1100000,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1}]},{\"id\":700017,\"exp\":0,\"rarity\":1,\"options\":[]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1}]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":2,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1},{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1100000,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1}]},{\"id\":1100006,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1}]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":1,\"level\":1},{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":400005,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":1,\"level\":1},{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":2,\"level\":1},{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":51,\"name\":\"LUK Lv1\",\"stat\":\"luk\",\"val\":2,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":1,\"level\":1}]},{\"id\":1000003,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":41,\"name\":\"DEX Lv1\",\"stat\":\"dex\",\"val\":2,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":1,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":31,\"name\":\"INT Lv1\",\"stat\":\"int\",\"val\":2,\"level\":1},{\"id\":11,\"name\":\"VIT Lv1\",\"stat\":\"vit\",\"val\":1,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":21,\"name\":\"AGI Lv1\",\"stat\":\"agi\",\"val\":2,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[{\"id\":1,\"name\":\"STR Lv1\",\"stat\":\"str\",\"val\":1,\"level\":1}]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[]},{\"id\":300002,\"exp\":0,\"rarity\":0,\"options\":[]}],\"currentJob\":\"miner\",\"jobData\":{\"adventurer\":{\"lv\":45,\"exp\":142689,\"nextExp\":1059773},\"miner\":{\"lv\":57,\"exp\":134411,\"nextExp\":9451004},\"harvester\":{\"lv\":1,\"exp\":0,\"nextExp\":100},\"toolsmith\":{\"lv\":1,\"exp\":24,\"nextExp\":100},\"blacksmith\":{\"lv\":1,\"exp\":18,\"nextExp\":7469},\"repairer\":{\"lv\":1,\"exp\":0,\"nextExp\":100},\"farmer\":{\"lv\":1,\"exp\":0,\"nextExp\":100},\"rancher\":{\"lv\":1,\"exp\":0,\"nextExp\":100}},\"lastSeenNewsTimestamp\":0,\"equippedSkills\":[1,2,null]}";

    try {
        await userRef.update({
            save_data: salvagedDataString,
            Lv: 99,
            updated_at: admin.firestore.FieldValue.serverTimestamp(),
            restore_note: "Fully restored from salvaged user_data_full.json commit"
        });
        console.log("Successfully restored COMPLETE Lv 99 data to emulator!");
    } catch (e) {
        console.error("Failed to restore data:", e);
    }
}

restoreTotalLv99().catch(console.error);
